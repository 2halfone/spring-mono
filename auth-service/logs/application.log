{"timestamp":"2025-05-31 10:58:07.706","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 13996 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 10:58:07.706","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 10:58:08.181","level":"WARN","thread":"main","logger":"o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'securityHeadersFilter' defined in class path resource [com/example/config/SecurityHeadersConfig.class]: Cannot register bean definition [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityHeadersConfig; factoryMethodName=securityHeadersFilter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/config/SecurityHeadersConfig.class]] for bean 'securityHeadersFilter' since there is already [Generic bean: class=com.example.security.SecurityHeadersFilter; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in file [C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes\com\example\security\SecurityHeadersFilter.class]] bound.","exception":""}
{"timestamp":"2025-05-31 10:58:08.182","level":"INFO","thread":"main","logger":"o.s.b.a.l.ConditionEvaluationReportLogger","correlationId":"","clientIp":"","message":"

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.","exception":""}
{"timestamp":"2025-05-31 10:58:08.201","level":"ERROR","thread":"main","logger":"o.s.b.d.LoggingFailureAnalysisReporter","correlationId":"","clientIp":"","message":"

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'securityHeadersFilter', defined in class path resource [com/example/config/SecurityHeadersConfig.class], could not be registered. A bean with that name has already been defined in file [C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes\com\example\security\SecurityHeadersFilter.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true
","exception":""}
{"timestamp":"2025-05-31 11:00:04.408","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 3008 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in c:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 11:00:04.410","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 11:00:04.840","level":"WARN","thread":"main","logger":"o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'securityHeadersFilter' defined in class path resource [com/example/config/SecurityHeadersConfig.class]: Cannot register bean definition [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityHeadersConfig; factoryMethodName=securityHeadersFilter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/config/SecurityHeadersConfig.class]] for bean 'securityHeadersFilter' since there is already [Generic bean: class=com.example.security.SecurityHeadersFilter; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in file [C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes\com\example\security\SecurityHeadersFilter.class]] bound.","exception":""}
{"timestamp":"2025-05-31 11:00:04.847","level":"INFO","thread":"main","logger":"o.s.b.a.l.ConditionEvaluationReportLogger","correlationId":"","clientIp":"","message":"

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.","exception":""}
{"timestamp":"2025-05-31 11:00:04.860","level":"ERROR","thread":"main","logger":"o.s.b.d.LoggingFailureAnalysisReporter","correlationId":"","clientIp":"","message":"

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'securityHeadersFilter', defined in class path resource [com/example/config/SecurityHeadersConfig.class], could not be registered. A bean with that name has already been defined in file [C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes\com\example\security\SecurityHeadersFilter.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true
","exception":""}
{"timestamp":"2025-05-31 11:01:38.283","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 19016 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in c:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 11:01:38.285","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 11:01:38.778","level":"WARN","thread":"main","logger":"o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'stringRedisTemplate' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.class]: Cannot register bean definition [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration; factoryMethodName=stringRedisTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.class]] for bean 'stringRedisTemplate' since there is already [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=redisConfig; factoryMethodName=stringRedisTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/config/RedisConfig.class]] bound.","exception":""}
{"timestamp":"2025-05-31 11:01:38.795","level":"INFO","thread":"main","logger":"o.s.b.a.l.ConditionEvaluationReportLogger","correlationId":"","clientIp":"","message":"

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.","exception":""}
{"timestamp":"2025-05-31 11:01:38.812","level":"ERROR","thread":"main","logger":"o.s.b.d.LoggingFailureAnalysisReporter","correlationId":"","clientIp":"","message":"

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'stringRedisTemplate', defined in class path resource [org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource [com/example/config/RedisConfig.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true
","exception":""}
{"timestamp":"2025-05-31 11:02:52.396","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 18964 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in c:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 11:02:52.397","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 11:02:53.017","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:02:53.017","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:02:53.128","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 99 ms. Found 2 JPA repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:02:53.138","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:02:53.140","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:02:53.151","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.MovieRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:02:53.152","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:02:53.153","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:02:53.330","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validationConfig' of type [com.example.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.","exception":""}
{"timestamp":"2025-05-31 11:02:53.336","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validator' of type [org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.","exception":""}
{"timestamp":"2025-05-31 11:02:53.763","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-05-31 11:02:53.765","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:02:53.774","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:02:53.774","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardEngine","correlationId":"","clientIp":"","message":"Starting Servlet engine: [Apache Tomcat/10.1.40]","exception":""}
{"timestamp":"2025-05-31 11:02:53.818","level":"INFO","thread":"main","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","correlationId":"","clientIp":"","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-05-31 11:02:53.818","level":"INFO","thread":"main","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Root WebApplicationContext: initialization completed in 1395 ms","exception":""}
{"timestamp":"2025-05-31 11:02:53.966","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter initialized","exception":""}
{"timestamp":"2025-05-31 11:02:53.966","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"CSP enabled: true","exception":""}
{"timestamp":"2025-05-31 11:02:53.966","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"HSTS enabled: true","exception":""}
{"timestamp":"2025-05-31 11:02:54.283","level":"INFO","thread":"main","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","correlationId":"","clientIp":"","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-05-31 11:02:55.347","level":"WARN","thread":"main","logger":"o.h.e.jdbc.spi.SqlExceptionHelper","correlationId":"","clientIp":"","message":"SQL Error: 0, SQLState: 08001","exception":""}
{"timestamp":"2025-05-31 11:02:55.349","level":"ERROR","thread":"main","logger":"o.h.e.jdbc.spi.SqlExceptionHelper","correlationId":"","clientIp":"","message":"Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.","exception":""}
{"timestamp":"2025-05-31 11:02:55.349","level":"WARN","thread":"main","logger":"o.h.e.j.e.i.JdbcEnvironmentInitiator","correlationId":"","clientIp":"","message":"HHH000342: Could not obtain connection to query metadata","exception":"org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:320)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1865)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1814)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.example.MovieWatchlistApplication.main(MovieWatchlistApplication.java:9)
Caused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:352)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:273)
	at org.postgresql.Driver.makeConnection(Driver.java:446)
	at org.postgresql.Driver.connect(Driver.java:298)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:467)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	... 35 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:260)
	at org.postgresql.core.PGStream.<init>(PGStream.java:121)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:140)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:268)
	... 49 common frames omitted
"}
{"timestamp":"2025-05-31 11:02:55.354","level":"ERROR","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)","exception":""}
{"timestamp":"2025-05-31 11:02:55.354","level":"WARN","thread":"main","logger":"o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)","exception":""}
{"timestamp":"2025-05-31 11:02:55.358","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Stopping service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:02:55.359","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter destroyed","exception":""}
{"timestamp":"2025-05-31 11:02:55.369","level":"INFO","thread":"main","logger":"o.s.b.a.l.ConditionEvaluationReportLogger","correlationId":"","clientIp":"","message":"

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.","exception":""}
{"timestamp":"2025-05-31 11:02:55.379","level":"ERROR","thread":"main","logger":"o.s.boot.SpringApplication","correlationId":"","clientIp":"","message":"Application run failed","exception":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1818)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.example.MovieWatchlistApplication.main(MovieWatchlistApplication.java:9)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1865)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1814)
	... 15 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:181)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:392)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 30 common frames omitted
"}
{"timestamp":"2025-05-31 11:04:22.824","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 10164 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 11:04:22.826","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 11:04:23.439","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:04:23.439","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:04:23.546","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 93 ms. Found 2 JPA repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:04:23.556","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:04:23.557","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:04:23.565","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.MovieRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:04:23.565","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:04:23.569","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:04:23.740","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validationConfig' of type [com.example.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.","exception":""}
{"timestamp":"2025-05-31 11:04:23.740","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validator' of type [org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.","exception":""}
{"timestamp":"2025-05-31 11:04:24.138","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-05-31 11:04:24.144","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:04:24.146","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:04:24.146","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardEngine","correlationId":"","clientIp":"","message":"Starting Servlet engine: [Apache Tomcat/10.1.40]","exception":""}
{"timestamp":"2025-05-31 11:04:24.188","level":"INFO","thread":"main","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","correlationId":"","clientIp":"","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-05-31 11:04:24.188","level":"INFO","thread":"main","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Root WebApplicationContext: initialization completed in 1335 ms","exception":""}
{"timestamp":"2025-05-31 11:04:24.306","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter initialized","exception":""}
{"timestamp":"2025-05-31 11:04:24.306","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"CSP enabled: true","exception":""}
{"timestamp":"2025-05-31 11:04:24.320","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"HSTS enabled: true","exception":""}
{"timestamp":"2025-05-31 11:04:24.626","level":"INFO","thread":"main","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","correlationId":"","clientIp":"","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-05-31 11:04:25.408","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, year integer, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:04:25.408","level":"WARN","thread":"main","logger":"o.h.t.s.i.ExceptionHandlerLoggedImpl","correlationId":"","clientIp":"","message":"GenerationTarget encountered exception accepting command : Error executing DDL "create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, year integer, primary key (id))" via JDBC [Syntax error in SQL statement "create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, [*]year integer, primary key (id))"; expected "identifier";]","exception":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, year integer, primary key (id))" via JDBC [Syntax error in SQL statement "create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, [*]year integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:316)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1865)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1814)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.example.MovieWatchlistApplication.main(MovieWatchlistApplication.java:9)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, [*]year integer, primary key (id))"; expected "identifier"; SQL statement:
create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, year integer, primary key (id)) [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.Parser.readIdentifier(Parser.java:5527)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8871)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8819)
	at org.h2.command.Parser.parseCreate(Parser.java:6398)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 37 common frames omitted
"}
{"timestamp":"2025-05-31 11:04:25.423","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table users (id bigint generated by default as identity, account_non_expired boolean not null, account_non_locked boolean not null, created_at timestamp(6) not null, credentials_non_expired boolean not null, email varchar(255) not null, account_enabled boolean not null, last_login timestamp(6), password varchar(255) not null, role enum ('ADMIN','MODERATOR','USER') not null, updated_at timestamp(6), username varchar(50) not null, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:04:25.425","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7","exception":""}
{"timestamp":"2025-05-31 11:04:25.425","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)","exception":""}
{"timestamp":"2025-05-31 11:04:25.425","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6","exception":""}
{"timestamp":"2025-05-31 11:04:25.425","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)","exception":""}
{"timestamp":"2025-05-31 11:04:25.425","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:04:25.638","level":"INFO","thread":"main","logger":"o.s.d.j.r.query.QueryEnhancerFactory","correlationId":"","clientIp":"","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","exception":""}
{"timestamp":"2025-05-31 11:04:26.276","level":"WARN","thread":"main","logger":"o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration","correlationId":"","clientIp":"","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","exception":""}
{"timestamp":"2025-05-31 11:04:26.538","level":"INFO","thread":"main","logger":"o.s.b.a.e.web.EndpointLinksResolver","correlationId":"","clientIp":"","message":"Exposing 1 endpoint beneath base path '/actuator'","exception":""}
{"timestamp":"2025-05-31 11:04:26.621","level":"INFO","thread":"main","logger":"c.e.config.SecurityHeadersConfig","correlationId":"","clientIp":"","message":"CORS configured with allowed origins: [http://localhost:3000, http://localhost:8080, http://localhost:5173]","exception":""}
{"timestamp":"2025-05-31 11:04:26.651","level":"WARN","thread":"main","logger":"o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain': Cannot create inner bean '(inner bean)#76da91cf' while setting constructor argument with key [1]","exception":""}
{"timestamp":"2025-05-31 11:04:26.770","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:04:26.774","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Stopping service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:04:26.774","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter destroyed","exception":""}
{"timestamp":"2025-05-31 11:04:26.782","level":"INFO","thread":"main","logger":"o.s.b.a.l.ConditionEvaluationReportLogger","correlationId":"","clientIp":"","message":"

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.","exception":""}
{"timestamp":"2025-05-31 11:04:26.790","level":"ERROR","thread":"main","logger":"o.s.boot.SpringApplication","correlationId":"","clientIp":"","message":"Application run failed","exception":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain': Cannot create inner bean '(inner bean)#76da91cf' while setting constructor argument with key [1]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.lambda$resolveValueIfNecessary$1(BeanDefinitionValueResolver.java:153)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:262)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:152)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:460)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:191)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.example.MovieWatchlistApplication.main(MovieWatchlistApplication.java:9)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#76da91cf' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'authSecurity' in [class path resource [com/example/ActuatorSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, SecurityHeaders, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/example/config/WebSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Cors, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)
	... 29 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'authSecurity' in [class path resource [com/example/ActuatorSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, SecurityHeaders, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/example/config/WebSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Cors, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:199)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 35 common frames omitted
Caused by: java.lang.IllegalArgumentException: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'authSecurity' in [class path resource [com/example/ActuatorSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, SecurityHeaders, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/example/config/WebSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Cors, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:320)
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:94)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:354)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:118)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	... 38 common frames omitted
"}
{"timestamp":"2025-05-31 11:05:14.901","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 7180 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 11:05:14.901","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 11:05:15.511","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:05:15.511","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:05:15.623","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 102 ms. Found 2 JPA repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:05:15.632","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:05:15.632","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:05:15.645","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.MovieRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:05:15.646","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:05:15.646","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:05:15.813","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validationConfig' of type [com.example.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.","exception":""}
{"timestamp":"2025-05-31 11:05:15.824","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validator' of type [org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.","exception":""}
{"timestamp":"2025-05-31 11:05:16.207","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-05-31 11:05:16.226","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:05:16.228","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:05:16.228","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardEngine","correlationId":"","clientIp":"","message":"Starting Servlet engine: [Apache Tomcat/10.1.40]","exception":""}
{"timestamp":"2025-05-31 11:05:16.265","level":"INFO","thread":"main","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","correlationId":"","clientIp":"","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-05-31 11:05:16.265","level":"INFO","thread":"main","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Root WebApplicationContext: initialization completed in 1336 ms","exception":""}
{"timestamp":"2025-05-31 11:05:16.391","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter initialized","exception":""}
{"timestamp":"2025-05-31 11:05:16.391","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"CSP enabled: true","exception":""}
{"timestamp":"2025-05-31 11:05:16.396","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"HSTS enabled: true","exception":""}
{"timestamp":"2025-05-31 11:05:16.740","level":"INFO","thread":"main","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","correlationId":"","clientIp":"","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-05-31 11:05:17.508","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, release_year integer, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:05:17.524","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table users (id bigint generated by default as identity, account_non_expired boolean not null, account_non_locked boolean not null, created_at timestamp(6) not null, credentials_non_expired boolean not null, email varchar(255) not null, account_enabled boolean not null, last_login timestamp(6), password varchar(255) not null, role enum ('ADMIN','MODERATOR','USER') not null, updated_at timestamp(6), username varchar(50) not null, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:05:17.530","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7","exception":""}
{"timestamp":"2025-05-31 11:05:17.530","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)","exception":""}
{"timestamp":"2025-05-31 11:05:17.532","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6","exception":""}
{"timestamp":"2025-05-31 11:05:17.532","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)","exception":""}
{"timestamp":"2025-05-31 11:05:17.533","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:05:17.711","level":"INFO","thread":"main","logger":"o.s.d.j.r.query.QueryEnhancerFactory","correlationId":"","clientIp":"","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","exception":""}
{"timestamp":"2025-05-31 11:05:18.375","level":"WARN","thread":"main","logger":"o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration","correlationId":"","clientIp":"","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","exception":""}
{"timestamp":"2025-05-31 11:05:18.633","level":"INFO","thread":"main","logger":"o.s.b.a.e.web.EndpointLinksResolver","correlationId":"","clientIp":"","message":"Exposing 1 endpoint beneath base path '/actuator'","exception":""}
{"timestamp":"2025-05-31 11:05:18.709","level":"INFO","thread":"main","logger":"c.e.config.SecurityHeadersConfig","correlationId":"","clientIp":"","message":"CORS configured with allowed origins: [http://localhost:3000, http://localhost:8080, http://localhost:5173]","exception":""}
{"timestamp":"2025-05-31 11:05:18.733","level":"WARN","thread":"main","logger":"o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain': Cannot create inner bean '(inner bean)#33d6bdb7' while setting constructor argument with key [1]","exception":""}
{"timestamp":"2025-05-31 11:05:18.857","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:05:18.859","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Stopping service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:05:18.862","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter destroyed","exception":""}
{"timestamp":"2025-05-31 11:05:18.869","level":"INFO","thread":"main","logger":"o.s.b.a.l.ConditionEvaluationReportLogger","correlationId":"","clientIp":"","message":"

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.","exception":""}
{"timestamp":"2025-05-31 11:05:18.883","level":"ERROR","thread":"main","logger":"o.s.boot.SpringApplication","correlationId":"","clientIp":"","message":"Application run failed","exception":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain': Cannot create inner bean '(inner bean)#33d6bdb7' while setting constructor argument with key [1]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.lambda$resolveValueIfNecessary$1(BeanDefinitionValueResolver.java:153)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:262)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:152)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:460)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:191)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.example.MovieWatchlistApplication.main(MovieWatchlistApplication.java:9)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#33d6bdb7' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'authSecurity' in [class path resource [com/example/ActuatorSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, SecurityHeaders, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/example/config/WebSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Cors, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)
	... 29 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'authSecurity' in [class path resource [com/example/ActuatorSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, SecurityHeaders, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/example/config/WebSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Cors, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:199)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 35 common frames omitted
Caused by: java.lang.IllegalArgumentException: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'authSecurity' in [class path resource [com/example/ActuatorSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, SecurityHeaders, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/example/config/WebSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Cors, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:320)
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:94)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:354)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:118)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	... 38 common frames omitted
"}
{"timestamp":"2025-05-31 11:07:25.907","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 9340 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 11:07:25.914","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 11:07:26.533","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:07:26.533","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:07:26.646","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 93 ms. Found 2 JPA repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:07:26.648","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:07:26.648","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:07:26.666","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.MovieRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:07:26.666","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:07:26.668","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:07:26.836","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validationConfig' of type [com.example.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.","exception":""}
{"timestamp":"2025-05-31 11:07:26.842","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validator' of type [org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.","exception":""}
{"timestamp":"2025-05-31 11:07:27.264","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-05-31 11:07:27.269","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:07:27.275","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:07:27.276","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardEngine","correlationId":"","clientIp":"","message":"Starting Servlet engine: [Apache Tomcat/10.1.40]","exception":""}
{"timestamp":"2025-05-31 11:07:27.315","level":"INFO","thread":"main","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","correlationId":"","clientIp":"","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-05-31 11:07:27.315","level":"INFO","thread":"main","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Root WebApplicationContext: initialization completed in 1375 ms","exception":""}
{"timestamp":"2025-05-31 11:07:27.682","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter initialized","exception":""}
{"timestamp":"2025-05-31 11:07:27.682","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"CSP enabled: true","exception":""}
{"timestamp":"2025-05-31 11:07:27.682","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"HSTS enabled: true","exception":""}
{"timestamp":"2025-05-31 11:07:28.003","level":"INFO","thread":"main","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","correlationId":"","clientIp":"","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-05-31 11:07:28.818","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, release_year integer, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:07:28.825","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table users (id bigint generated by default as identity, account_non_expired boolean not null, account_non_locked boolean not null, created_at timestamp(6) not null, credentials_non_expired boolean not null, email varchar(255) not null, account_enabled boolean not null, last_login timestamp(6), password varchar(255) not null, role enum ('ADMIN','MODERATOR','USER') not null, updated_at timestamp(6), username varchar(50) not null, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:07:28.826","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7","exception":""}
{"timestamp":"2025-05-31 11:07:28.827","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)","exception":""}
{"timestamp":"2025-05-31 11:07:28.828","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6","exception":""}
{"timestamp":"2025-05-31 11:07:28.828","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)","exception":""}
{"timestamp":"2025-05-31 11:07:28.830","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:07:29.032","level":"INFO","thread":"main","logger":"o.s.d.j.r.query.QueryEnhancerFactory","correlationId":"","clientIp":"","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","exception":""}
{"timestamp":"2025-05-31 11:07:29.411","level":"WARN","thread":"main","logger":"o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration","correlationId":"","clientIp":"","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","exception":""}
{"timestamp":"2025-05-31 11:07:29.535","level":"INFO","thread":"main","logger":"c.e.config.SecurityHeadersConfig","correlationId":"","clientIp":"","message":"CORS configured with allowed origins: [http://localhost:3000, http://localhost:8080, http://localhost:5173]","exception":""}
{"timestamp":"2025-05-31 11:07:29.734","level":"INFO","thread":"main","logger":"o.s.b.a.e.web.EndpointLinksResolver","correlationId":"","clientIp":"","message":"Exposing 1 endpoint beneath base path '/actuator'","exception":""}
{"timestamp":"2025-05-31 11:07:30.057","level":"INFO","thread":"main","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","correlationId":"","clientIp":"","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'","exception":""}
{"timestamp":"2025-05-31 11:07:30.119","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Starting ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:07:30.139","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat started on port 8080 (http) with context path '/'","exception":""}
{"timestamp":"2025-05-31 11:07:30.150","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Started MovieWatchlistApplication in 4.614 seconds (process running for 4.821)","exception":""}
{"timestamp":"2025-05-31 11:07:30.186","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Initializing default users for Phase 2 RBAC...","exception":""}
{"timestamp":"2025-05-31 11:07:30.234","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:07:30.348","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:07:30.366","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: admin with role: ADMIN","exception":""}
{"timestamp":"2025-05-31 11:07:30.367","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:07:30.421","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:07:30.421","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: moderator with role: MODERATOR","exception":""}
{"timestamp":"2025-05-31 11:07:30.421","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:07:30.488","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:07:30.489","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: user with role: USER","exception":""}
{"timestamp":"2025-05-31 11:07:30.489","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:07:30.549","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:07:30.551","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: test with role: USER","exception":""}
{"timestamp":"2025-05-31 11:07:30.551","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Default users initialization completed.","exception":""}
{"timestamp":"2025-05-31 11:07:30.551","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(*) from users u1_0","exception":""}
{"timestamp":"2025-05-31 11:07:30.563","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:07:30.567","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:07:30.568","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:07:30.569","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"User Statistics - Total: 4, Admins: 1, Moderators: 1, Users: 2","exception":""}
{"timestamp":"2025-05-31 11:08:45.908","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 18956 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 11:08:45.908","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 11:08:46.522","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:08:46.522","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:08:46.664","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 125 ms. Found 2 JPA repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:08:46.674","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:08:46.675","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:08:46.686","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.MovieRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:08:46.687","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:08:46.687","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:08:46.854","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validationConfig' of type [com.example.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.","exception":""}
{"timestamp":"2025-05-31 11:08:46.856","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validator' of type [org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.","exception":""}
{"timestamp":"2025-05-31 11:08:47.258","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-05-31 11:08:47.267","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:08:47.270","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:08:47.271","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardEngine","correlationId":"","clientIp":"","message":"Starting Servlet engine: [Apache Tomcat/10.1.40]","exception":""}
{"timestamp":"2025-05-31 11:08:47.306","level":"INFO","thread":"main","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","correlationId":"","clientIp":"","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-05-31 11:08:47.306","level":"INFO","thread":"main","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Root WebApplicationContext: initialization completed in 1361 ms","exception":""}
{"timestamp":"2025-05-31 11:08:47.670","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter initialized","exception":""}
{"timestamp":"2025-05-31 11:08:47.670","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"CSP enabled: true","exception":""}
{"timestamp":"2025-05-31 11:08:47.670","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"HSTS enabled: true","exception":""}
{"timestamp":"2025-05-31 11:08:47.986","level":"INFO","thread":"main","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","correlationId":"","clientIp":"","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-05-31 11:08:48.788","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, release_year integer, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:08:48.788","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table users (id bigint generated by default as identity, account_non_expired boolean not null, account_non_locked boolean not null, created_at timestamp(6) not null, credentials_non_expired boolean not null, email varchar(255) not null, account_enabled boolean not null, last_login timestamp(6), password varchar(255) not null, role enum ('ADMIN','MODERATOR','USER') not null, updated_at timestamp(6), username varchar(50) not null, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:08:48.801","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7","exception":""}
{"timestamp":"2025-05-31 11:08:48.802","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)","exception":""}
{"timestamp":"2025-05-31 11:08:48.804","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6","exception":""}
{"timestamp":"2025-05-31 11:08:48.804","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)","exception":""}
{"timestamp":"2025-05-31 11:08:48.805","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:08:48.970","level":"INFO","thread":"main","logger":"o.s.d.j.r.query.QueryEnhancerFactory","correlationId":"","clientIp":"","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","exception":""}
{"timestamp":"2025-05-31 11:08:49.371","level":"WARN","thread":"main","logger":"o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration","correlationId":"","clientIp":"","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","exception":""}
{"timestamp":"2025-05-31 11:08:49.506","level":"INFO","thread":"main","logger":"c.e.config.SecurityHeadersConfig","correlationId":"","clientIp":"","message":"CORS configured with allowed origins: [http://localhost:3000, http://localhost:8080, http://localhost:5173]","exception":""}
{"timestamp":"2025-05-31 11:08:49.687","level":"INFO","thread":"main","logger":"o.s.b.a.e.web.EndpointLinksResolver","correlationId":"","clientIp":"","message":"Exposing 1 endpoint beneath base path '/actuator'","exception":""}
{"timestamp":"2025-05-31 11:08:50.005","level":"INFO","thread":"main","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","correlationId":"","clientIp":"","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'","exception":""}
{"timestamp":"2025-05-31 11:08:50.070","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Starting ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:08:50.188","level":"WARN","thread":"main","logger":"o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'","exception":""}
{"timestamp":"2025-05-31 11:08:50.189","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:08:50.189","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter destroyed","exception":""}
{"timestamp":"2025-05-31 11:08:50.207","level":"INFO","thread":"main","logger":"o.s.b.a.l.ConditionEvaluationReportLogger","correlationId":"","clientIp":"","message":"

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.","exception":""}
{"timestamp":"2025-05-31 11:08:50.212","level":"ERROR","thread":"main","logger":"o.s.b.d.LoggingFailureAnalysisReporter","correlationId":"","clientIp":"","message":"

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.
","exception":""}
{"timestamp":"2025-05-31 11:09:30.582","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 9084 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 11:09:30.588","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 11:09:31.206","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:09:31.221","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:09:31.322","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 94 ms. Found 2 JPA repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:09:31.331","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:09:31.331","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:09:31.343","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.MovieRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:09:31.345","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:09:31.345","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:09:31.506","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validationConfig' of type [com.example.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.","exception":""}
{"timestamp":"2025-05-31 11:09:31.523","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validator' of type [org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.","exception":""}
{"timestamp":"2025-05-31 11:09:31.911","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-05-31 11:09:31.922","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:09:31.929","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:09:31.929","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardEngine","correlationId":"","clientIp":"","message":"Starting Servlet engine: [Apache Tomcat/10.1.40]","exception":""}
{"timestamp":"2025-05-31 11:09:31.960","level":"INFO","thread":"main","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","correlationId":"","clientIp":"","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-05-31 11:09:31.960","level":"INFO","thread":"main","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Root WebApplicationContext: initialization completed in 1347 ms","exception":""}
{"timestamp":"2025-05-31 11:09:32.322","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter initialized","exception":""}
{"timestamp":"2025-05-31 11:09:32.322","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"CSP enabled: true","exception":""}
{"timestamp":"2025-05-31 11:09:32.331","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"HSTS enabled: true","exception":""}
{"timestamp":"2025-05-31 11:09:32.627","level":"INFO","thread":"main","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","correlationId":"","clientIp":"","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-05-31 11:09:33.438","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, release_year integer, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:09:33.441","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table users (id bigint generated by default as identity, account_non_expired boolean not null, account_non_locked boolean not null, created_at timestamp(6) not null, credentials_non_expired boolean not null, email varchar(255) not null, account_enabled boolean not null, last_login timestamp(6), password varchar(255) not null, role enum ('ADMIN','MODERATOR','USER') not null, updated_at timestamp(6), username varchar(50) not null, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:09:33.448","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7","exception":""}
{"timestamp":"2025-05-31 11:09:33.448","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)","exception":""}
{"timestamp":"2025-05-31 11:09:33.450","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6","exception":""}
{"timestamp":"2025-05-31 11:09:33.450","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)","exception":""}
{"timestamp":"2025-05-31 11:09:33.452","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:09:33.619","level":"INFO","thread":"main","logger":"o.s.d.j.r.query.QueryEnhancerFactory","correlationId":"","clientIp":"","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","exception":""}
{"timestamp":"2025-05-31 11:09:34.021","level":"WARN","thread":"main","logger":"o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration","correlationId":"","clientIp":"","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","exception":""}
{"timestamp":"2025-05-31 11:09:34.139","level":"INFO","thread":"main","logger":"c.e.config.SecurityHeadersConfig","correlationId":"","clientIp":"","message":"CORS configured with allowed origins: [http://localhost:3000, http://localhost:8080, http://localhost:5173]","exception":""}
{"timestamp":"2025-05-31 11:09:34.321","level":"INFO","thread":"main","logger":"o.s.b.a.e.web.EndpointLinksResolver","correlationId":"","clientIp":"","message":"Exposing 1 endpoint beneath base path '/actuator'","exception":""}
{"timestamp":"2025-05-31 11:09:34.639","level":"INFO","thread":"main","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","correlationId":"","clientIp":"","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'","exception":""}
{"timestamp":"2025-05-31 11:09:34.689","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Starting ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:09:34.710","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat started on port 8080 (http) with context path '/'","exception":""}
{"timestamp":"2025-05-31 11:09:34.725","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Started MovieWatchlistApplication in 4.504 seconds (process running for 4.74)","exception":""}
{"timestamp":"2025-05-31 11:09:34.746","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Initializing default users for Phase 2 RBAC...","exception":""}
{"timestamp":"2025-05-31 11:09:34.791","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:09:34.911","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:09:34.928","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: admin with role: ADMIN","exception":""}
{"timestamp":"2025-05-31 11:09:34.930","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:09:34.989","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:09:34.995","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: moderator with role: MODERATOR","exception":""}
{"timestamp":"2025-05-31 11:09:34.995","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:09:35.041","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:09:35.056","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: user with role: USER","exception":""}
{"timestamp":"2025-05-31 11:09:35.057","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:09:35.108","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:09:35.108","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: test with role: USER","exception":""}
{"timestamp":"2025-05-31 11:09:35.108","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Default users initialization completed.","exception":""}
{"timestamp":"2025-05-31 11:09:35.127","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(*) from users u1_0","exception":""}
{"timestamp":"2025-05-31 11:09:35.130","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:09:35.135","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:09:35.135","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:09:35.136","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"User Statistics - Total: 4, Admins: 1, Moderators: 1, Users: 2","exception":""}
{"timestamp":"2025-05-31 11:10:00.389","level":"INFO","thread":"http-nio-0.0.0.0-8080-exec-1","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","correlationId":"","clientIp":"","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'","exception":""}
{"timestamp":"2025-05-31 11:10:00.389","level":"INFO","thread":"http-nio-0.0.0.0-8080-exec-1","logger":"o.s.web.servlet.DispatcherServlet","correlationId":"","clientIp":"","message":"Initializing Servlet 'dispatcherServlet'","exception":""}
{"timestamp":"2025-05-31 11:10:00.391","level":"INFO","thread":"http-nio-0.0.0.0-8080-exec-1","logger":"o.s.web.servlet.DispatcherServlet","correlationId":"","clientIp":"","message":"Completed initialization in 2 ms","exception":""}
{"timestamp":"2025-05-31 11:10:00.725","level":"DEBUG","thread":"http-nio-0.0.0.0-8080-exec-1","logger":"org.hibernate.SQL","correlationId":"ea61f188-d6f9-4084-9246-ea8f53066184","clientIp":"0:0:0:0:0:0:0:1","message":"select u1_0.id,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.created_at,u1_0.credentials_non_expired,u1_0.email,u1_0.account_enabled,u1_0.last_login,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?","exception":""}
{"timestamp":"2025-05-31 11:10:00.792","level":"WARN","thread":"http-nio-0.0.0.0-8080-exec-1","logger":"com.example.service.AuthService","correlationId":"ea61f188-d6f9-4084-9246-ea8f53066184","clientIp":"0:0:0:0:0:0:0:1","message":"Failed to update last login for user 1: Query executed via 'getResultList()' or 'getSingleResult()' must be a 'select' query [UPDATE User u SET u.lastLogin = :loginTime WHERE u.id = :userId]","exception":""}
{"timestamp":"2025-05-31 11:10:00.807","level":"ERROR","thread":"http-nio-0.0.0.0-8080-exec-1","logger":"SECURITY_AUDIT","correlationId":"ea61f188-d6f9-4084-9246-ea8f53066184","clientIp":"0:0:0:0:0:0:0:1","message":"Failed to serialize security event","exception":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: java.util.HashMap["timestamp"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1340)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFields(MapSerializer.java:808)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeWithoutTypeInfo(MapSerializer.java:764)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:720)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4819)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:4060)
	at com.example.security.SecurityAuditService.logSecurityEvent(SecurityAuditService.java:227)
	at com.example.security.SecurityAuditService.logAuthenticationSuccess(SecurityAuditService.java:72)
	at com.example.service.AuthService.validateUser(AuthService.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.service.AuthService$$SpringCGLIB$$0.validateUser(<generated>)
	at com.example.controller.AuthController.authenticateUser(AuthController.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.example.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:56)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.example.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.example.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:56)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
"}
{"timestamp":"2025-05-31 11:10:00.812","level":"INFO","thread":"http-nio-0.0.0.0-8080-exec-1","logger":"com.example.service.AuthService","correlationId":"","clientIp":"","message":"Database authentication successful for user: admin","exception":""}
{"timestamp":"2025-05-31 11:10:00.812","level":"DEBUG","thread":"http-nio-0.0.0.0-8080-exec-1","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.created_at,u1_0.credentials_non_expired,u1_0.email,u1_0.account_enabled,u1_0.last_login,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?","exception":""}
{"timestamp":"2025-05-31 11:10:13.984","level":"DEBUG","thread":"http-nio-0.0.0.0-8080-exec-2","logger":"org.hibernate.SQL","correlationId":"7a2d8e03-6b05-43bd-8856-314ac174ad65","clientIp":"0:0:0:0:0:0:0:1","message":"select u1_0.id,u1_0.account_non_expired,u1_0.account_non_locked,u1_0.created_at,u1_0.credentials_non_expired,u1_0.email,u1_0.account_enabled,u1_0.last_login,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?","exception":""}
{"timestamp":"2025-05-31 11:10:14.048","level":"ERROR","thread":"http-nio-0.0.0.0-8080-exec-2","logger":"SECURITY_AUDIT","correlationId":"7a2d8e03-6b05-43bd-8856-314ac174ad65","clientIp":"0:0:0:0:0:0:0:1","message":"Failed to serialize security event","exception":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: java.util.HashMap["timestamp"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1340)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFields(MapSerializer.java:808)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeWithoutTypeInfo(MapSerializer.java:764)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:720)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4819)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:4060)
	at com.example.security.SecurityAuditService.logSecurityEvent(SecurityAuditService.java:227)
	at com.example.security.SecurityAuditService.logAuthenticationFailure(SecurityAuditService.java:88)
	at com.example.service.AuthService.validateUser(AuthService.java:89)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.service.AuthService$$SpringCGLIB$$0.validateUser(<generated>)
	at com.example.controller.AuthController.authenticateUser(AuthController.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.example.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:56)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.example.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.example.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:56)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
"}
{"timestamp":"2025-05-31 11:13:09.969","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 16940 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 11:13:09.972","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 11:13:10.569","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:13:10.579","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:13:10.675","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 91 ms. Found 2 JPA repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:13:10.687","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:13:10.688","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:13:10.698","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.MovieRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:13:10.699","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:13:10.699","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:13:10.853","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validationConfig' of type [com.example.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.","exception":""}
{"timestamp":"2025-05-31 11:13:10.867","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validator' of type [org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.","exception":""}
{"timestamp":"2025-05-31 11:13:11.253","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-05-31 11:13:11.263","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:13:11.271","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:13:11.271","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardEngine","correlationId":"","clientIp":"","message":"Starting Servlet engine: [Apache Tomcat/10.1.40]","exception":""}
{"timestamp":"2025-05-31 11:13:11.309","level":"INFO","thread":"main","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","correlationId":"","clientIp":"","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-05-31 11:13:11.309","level":"INFO","thread":"main","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Root WebApplicationContext: initialization completed in 1312 ms","exception":""}
{"timestamp":"2025-05-31 11:13:11.668","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter initialized","exception":""}
{"timestamp":"2025-05-31 11:13:11.668","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"CSP enabled: true","exception":""}
{"timestamp":"2025-05-31 11:13:11.668","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"HSTS enabled: true","exception":""}
{"timestamp":"2025-05-31 11:13:11.969","level":"INFO","thread":"main","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","correlationId":"","clientIp":"","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-05-31 11:13:12.737","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, release_year integer, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:13:12.752","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table users (id bigint generated by default as identity, account_non_expired boolean not null, account_non_locked boolean not null, created_at timestamp(6) not null, credentials_non_expired boolean not null, email varchar(255) not null, account_enabled boolean not null, last_login timestamp(6), password varchar(255) not null, role enum ('ADMIN','MODERATOR','USER') not null, updated_at timestamp(6), username varchar(50) not null, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:13:12.759","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7","exception":""}
{"timestamp":"2025-05-31 11:13:12.759","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)","exception":""}
{"timestamp":"2025-05-31 11:13:12.760","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6","exception":""}
{"timestamp":"2025-05-31 11:13:12.761","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)","exception":""}
{"timestamp":"2025-05-31 11:13:12.762","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:13:12.957","level":"INFO","thread":"main","logger":"o.s.d.j.r.query.QueryEnhancerFactory","correlationId":"","clientIp":"","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","exception":""}
{"timestamp":"2025-05-31 11:13:13.350","level":"WARN","thread":"main","logger":"o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration","correlationId":"","clientIp":"","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","exception":""}
{"timestamp":"2025-05-31 11:13:13.471","level":"INFO","thread":"main","logger":"c.e.config.SecurityHeadersConfig","correlationId":"","clientIp":"","message":"CORS configured with allowed origins: [http://localhost:3000, http://localhost:8080, http://localhost:5173]","exception":""}
{"timestamp":"2025-05-31 11:13:13.667","level":"INFO","thread":"main","logger":"o.s.b.a.e.web.EndpointLinksResolver","correlationId":"","clientIp":"","message":"Exposing 1 endpoint beneath base path '/actuator'","exception":""}
{"timestamp":"2025-05-31 11:13:13.983","level":"INFO","thread":"main","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","correlationId":"","clientIp":"","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'","exception":""}
{"timestamp":"2025-05-31 11:13:14.040","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Starting ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:13:14.154","level":"WARN","thread":"main","logger":"o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'","exception":""}
{"timestamp":"2025-05-31 11:13:14.156","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:13:14.159","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter destroyed","exception":""}
{"timestamp":"2025-05-31 11:13:14.173","level":"INFO","thread":"main","logger":"o.s.b.a.l.ConditionEvaluationReportLogger","correlationId":"","clientIp":"","message":"

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.","exception":""}
{"timestamp":"2025-05-31 11:13:14.181","level":"ERROR","thread":"main","logger":"o.s.b.d.LoggingFailureAnalysisReporter","correlationId":"","clientIp":"","message":"

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.
","exception":""}
{"timestamp":"2025-05-31 11:13:42.556","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 4488 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 11:13:42.558","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 11:13:43.187","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:13:43.193","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:13:43.288","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 93 ms. Found 2 JPA repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:13:43.295","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:13:43.302","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:13:43.313","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.MovieRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:13:43.313","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:13:43.313","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:13:43.470","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validationConfig' of type [com.example.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.","exception":""}
{"timestamp":"2025-05-31 11:13:43.486","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validator' of type [org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.","exception":""}
{"timestamp":"2025-05-31 11:13:43.871","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-05-31 11:13:43.890","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:13:43.892","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:13:43.893","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardEngine","correlationId":"","clientIp":"","message":"Starting Servlet engine: [Apache Tomcat/10.1.40]","exception":""}
{"timestamp":"2025-05-31 11:13:43.932","level":"INFO","thread":"main","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","correlationId":"","clientIp":"","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-05-31 11:13:43.932","level":"INFO","thread":"main","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Root WebApplicationContext: initialization completed in 1336 ms","exception":""}
{"timestamp":"2025-05-31 11:13:44.287","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter initialized","exception":""}
{"timestamp":"2025-05-31 11:13:44.287","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"CSP enabled: true","exception":""}
{"timestamp":"2025-05-31 11:13:44.287","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"HSTS enabled: true","exception":""}
{"timestamp":"2025-05-31 11:13:44.597","level":"INFO","thread":"main","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","correlationId":"","clientIp":"","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-05-31 11:13:45.371","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, release_year integer, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:13:45.391","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table users (id bigint generated by default as identity, account_non_expired boolean not null, account_non_locked boolean not null, created_at timestamp(6) not null, credentials_non_expired boolean not null, email varchar(255) not null, account_enabled boolean not null, last_login timestamp(6), password varchar(255) not null, role enum ('ADMIN','MODERATOR','USER') not null, updated_at timestamp(6), username varchar(50) not null, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:13:45.393","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7","exception":""}
{"timestamp":"2025-05-31 11:13:45.394","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)","exception":""}
{"timestamp":"2025-05-31 11:13:45.395","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6","exception":""}
{"timestamp":"2025-05-31 11:13:45.395","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)","exception":""}
{"timestamp":"2025-05-31 11:13:45.397","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:13:45.554","level":"INFO","thread":"main","logger":"o.s.d.j.r.query.QueryEnhancerFactory","correlationId":"","clientIp":"","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","exception":""}
{"timestamp":"2025-05-31 11:13:45.992","level":"WARN","thread":"main","logger":"o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration","correlationId":"","clientIp":"","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","exception":""}
{"timestamp":"2025-05-31 11:13:46.123","level":"INFO","thread":"main","logger":"c.e.config.SecurityHeadersConfig","correlationId":"","clientIp":"","message":"CORS configured with allowed origins: [http://localhost:3000, http://localhost:8080, http://localhost:5173]","exception":""}
{"timestamp":"2025-05-31 11:13:46.309","level":"INFO","thread":"main","logger":"o.s.b.a.e.web.EndpointLinksResolver","correlationId":"","clientIp":"","message":"Exposing 1 endpoint beneath base path '/actuator'","exception":""}
{"timestamp":"2025-05-31 11:13:46.620","level":"INFO","thread":"main","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","correlationId":"","clientIp":"","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'","exception":""}
{"timestamp":"2025-05-31 11:13:46.687","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Starting ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:13:46.700","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat started on port 8080 (http) with context path '/'","exception":""}
{"timestamp":"2025-05-31 11:13:46.714","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Started MovieWatchlistApplication in 4.546 seconds (process running for 4.763)","exception":""}
{"timestamp":"2025-05-31 11:13:46.738","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Initializing default users for Phase 2 RBAC...","exception":""}
{"timestamp":"2025-05-31 11:13:46.789","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:13:46.905","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:13:46.923","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: admin with role: ADMIN","exception":""}
{"timestamp":"2025-05-31 11:13:46.924","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:13:46.978","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:13:46.987","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: moderator with role: MODERATOR","exception":""}
{"timestamp":"2025-05-31 11:13:46.987","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:13:47.042","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:13:47.042","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: user with role: USER","exception":""}
{"timestamp":"2025-05-31 11:13:47.042","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:13:47.105","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:13:47.105","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: test with role: USER","exception":""}
{"timestamp":"2025-05-31 11:13:47.105","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Default users initialization completed.","exception":""}
{"timestamp":"2025-05-31 11:13:47.113","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(*) from users u1_0","exception":""}
{"timestamp":"2025-05-31 11:13:47.125","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:13:47.129","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:13:47.130","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:13:47.131","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"User Statistics - Total: 4, Admins: 1, Moderators: 1, Users: 2","exception":""}
{"timestamp":"2025-05-31 11:17:53.572","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Starting MovieWatchlistApplication using Java 17.0.14 with PID 2848 (C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service\target\classes started by mini in C:\Users\mini\Desktop\Visual code\microservices\spring-mono\auth-service)","exception":""}
{"timestamp":"2025-05-31 11:17:53.572","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"No active profile set, falling back to 1 default profile: "default"","exception":""}
{"timestamp":"2025-05-31 11:17:54.163","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:17:54.163","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:17:54.263","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 90 ms. Found 2 JPA repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:17:54.268","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Multiple Spring Data modules found, entering strict repository configuration mode","exception":""}
{"timestamp":"2025-05-31 11:17:54.268","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Bootstrapping Spring Data Redis repositories in DEFAULT mode.","exception":""}
{"timestamp":"2025-05-31 11:17:54.286","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.MovieRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:17:54.286","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationExtensionSupport","correlationId":"","clientIp":"","message":"Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository","exception":""}
{"timestamp":"2025-05-31 11:17:54.287","level":"INFO","thread":"main","logger":"o.s.d.r.c.RepositoryConfigurationDelegate","correlationId":"","clientIp":"","message":"Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.","exception":""}
{"timestamp":"2025-05-31 11:17:54.438","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validationConfig' of type [com.example.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.","exception":""}
{"timestamp":"2025-05-31 11:17:54.447","level":"WARN","thread":"main","logger":"o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker","correlationId":"","clientIp":"","message":"Bean 'validator' of type [org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [methodValidationPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.","exception":""}
{"timestamp":"2025-05-31 11:17:54.840","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat initialized with port 8080 (http)","exception":""}
{"timestamp":"2025-05-31 11:17:54.854","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:17:54.855","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardService","correlationId":"","clientIp":"","message":"Starting service [Tomcat]","exception":""}
{"timestamp":"2025-05-31 11:17:54.856","level":"INFO","thread":"main","logger":"o.a.catalina.core.StandardEngine","correlationId":"","clientIp":"","message":"Starting Servlet engine: [Apache Tomcat/10.1.40]","exception":""}
{"timestamp":"2025-05-31 11:17:54.896","level":"INFO","thread":"main","logger":"o.a.c.c.C.[Tomcat].[localhost].[/]","correlationId":"","clientIp":"","message":"Initializing Spring embedded WebApplicationContext","exception":""}
{"timestamp":"2025-05-31 11:17:54.896","level":"INFO","thread":"main","logger":"o.s.b.w.s.c.ServletWebServerApplicationContext","correlationId":"","clientIp":"","message":"Root WebApplicationContext: initialization completed in 1287 ms","exception":""}
{"timestamp":"2025-05-31 11:17:55.246","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter initialized","exception":""}
{"timestamp":"2025-05-31 11:17:55.246","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"CSP enabled: true","exception":""}
{"timestamp":"2025-05-31 11:17:55.246","level":"INFO","thread":"main","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"HSTS enabled: true","exception":""}
{"timestamp":"2025-05-31 11:17:55.530","level":"INFO","thread":"main","logger":"o.s.o.j.p.SpringPersistenceUnitInfo","correlationId":"","clientIp":"","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","exception":""}
{"timestamp":"2025-05-31 11:17:56.278","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table movie (id bigint generated by default as identity, description TEXT, director varchar(255), duration_minutes integer, genre varchar(255), rating float(53), title varchar(255) not null, watched boolean not null, release_year integer, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:17:56.291","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"create table users (id bigint generated by default as identity, account_non_expired boolean not null, account_non_locked boolean not null, created_at timestamp(6) not null, credentials_non_expired boolean not null, email varchar(255) not null, account_enabled boolean not null, last_login timestamp(6), password varchar(255) not null, role enum ('ADMIN','MODERATOR','USER') not null, updated_at timestamp(6), username varchar(50) not null, primary key (id))","exception":""}
{"timestamp":"2025-05-31 11:17:56.295","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7","exception":""}
{"timestamp":"2025-05-31 11:17:56.296","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)","exception":""}
{"timestamp":"2025-05-31 11:17:56.298","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6","exception":""}
{"timestamp":"2025-05-31 11:17:56.298","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)","exception":""}
{"timestamp":"2025-05-31 11:17:56.300","level":"INFO","thread":"main","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:17:56.464","level":"INFO","thread":"main","logger":"o.s.d.j.r.query.QueryEnhancerFactory","correlationId":"","clientIp":"","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","exception":""}
{"timestamp":"2025-05-31 11:17:56.868","level":"WARN","thread":"main","logger":"o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration","correlationId":"","clientIp":"","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","exception":""}
{"timestamp":"2025-05-31 11:17:57.002","level":"INFO","thread":"main","logger":"c.e.config.SecurityHeadersConfig","correlationId":"","clientIp":"","message":"CORS configured with allowed origins: [http://localhost:3000, http://localhost:8080, http://localhost:5173]","exception":""}
{"timestamp":"2025-05-31 11:17:57.197","level":"INFO","thread":"main","logger":"o.s.b.a.e.web.EndpointLinksResolver","correlationId":"","clientIp":"","message":"Exposing 1 endpoint beneath base path '/actuator'","exception":""}
{"timestamp":"2025-05-31 11:17:57.485","level":"INFO","thread":"main","logger":"o.s.b.a.h.H2ConsoleAutoConfiguration","correlationId":"","clientIp":"","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'","exception":""}
{"timestamp":"2025-05-31 11:17:57.543","level":"INFO","thread":"main","logger":"o.a.coyote.http11.Http11NioProtocol","correlationId":"","clientIp":"","message":"Starting ProtocolHandler ["http-nio-0.0.0.0-8080"]","exception":""}
{"timestamp":"2025-05-31 11:17:57.556","level":"INFO","thread":"main","logger":"o.s.b.w.e.tomcat.TomcatWebServer","correlationId":"","clientIp":"","message":"Tomcat started on port 8080 (http) with context path '/'","exception":""}
{"timestamp":"2025-05-31 11:17:57.569","level":"INFO","thread":"main","logger":"c.example.MovieWatchlistApplication","correlationId":"","clientIp":"","message":"Started MovieWatchlistApplication in 4.351 seconds (process running for 4.567)","exception":""}
{"timestamp":"2025-05-31 11:17:57.592","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Initializing default users for Phase 2 RBAC...","exception":""}
{"timestamp":"2025-05-31 11:17:57.637","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:17:57.754","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:17:57.769","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: admin with role: ADMIN","exception":""}
{"timestamp":"2025-05-31 11:17:57.769","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:17:57.823","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:17:57.823","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: moderator with role: MODERATOR","exception":""}
{"timestamp":"2025-05-31 11:17:57.823","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:17:57.886","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:17:57.892","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: user with role: USER","exception":""}
{"timestamp":"2025-05-31 11:17:57.892","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only","exception":""}
{"timestamp":"2025-05-31 11:17:57.952","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"insert into users (account_non_expired,account_non_locked,created_at,credentials_non_expired,email,account_enabled,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,?,?,default)","exception":""}
{"timestamp":"2025-05-31 11:17:57.952","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Created default user: test with role: USER","exception":""}
{"timestamp":"2025-05-31 11:17:57.952","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"Default users initialization completed.","exception":""}
{"timestamp":"2025-05-31 11:17:57.952","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(*) from users u1_0","exception":""}
{"timestamp":"2025-05-31 11:17:57.967","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:17:57.969","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:17:57.969","level":"DEBUG","thread":"main","logger":"org.hibernate.SQL","correlationId":"","clientIp":"","message":"select count(u1_0.id) from users u1_0 where u1_0.role=?","exception":""}
{"timestamp":"2025-05-31 11:17:57.969","level":"INFO","thread":"main","logger":"com.example.config.DataInitializer","correlationId":"","clientIp":"","message":"User Statistics - Total: 4, Admins: 1, Moderators: 1, Users: 2","exception":""}
{"timestamp":"2025-05-31 11:21:15.488","level":"INFO","thread":"SpringApplicationShutdownHook","logger":"o.s.b.w.e.tomcat.GracefulShutdown","correlationId":"","clientIp":"","message":"Commencing graceful shutdown. Waiting for active requests to complete","exception":""}
{"timestamp":"2025-05-31 11:21:15.690","level":"INFO","thread":"tomcat-shutdown","logger":"o.s.b.w.e.tomcat.GracefulShutdown","correlationId":"","clientIp":"","message":"Graceful shutdown complete","exception":""}
{"timestamp":"2025-05-31 11:21:15.809","level":"INFO","thread":"SpringApplicationShutdownHook","logger":"o.s.o.j.LocalContainerEntityManagerFactoryBean","correlationId":"","clientIp":"","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","exception":""}
{"timestamp":"2025-05-31 11:21:15.814","level":"INFO","thread":"SpringApplicationShutdownHook","logger":"c.e.security.SecurityHeadersFilter","correlationId":"","clientIp":"","message":"SecurityHeadersFilter destroyed","exception":""}
